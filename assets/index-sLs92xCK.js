var Pt=Object.defineProperty;var St=(k,t,e)=>t in k?Pt(k,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):k[t]=e;var yt=(k,t,e)=>St(k,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();class At{constructor(){this.canvas=document.getElementById("webgl-canvas"),this.gl=this.canvas.getContext("webgl2"),this.initWebGL()}initWebGL(){if(!this.gl){console.error("Could not find WebGL, try turning on hardware acceleration, use another browser, or use another device");return}this.gl.clearColor(0,0,0,1),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.resizeCanvas()}resizeCanvas(){const t=window.devicePixelRatio||1,{width:e,height:n}=this.canvas.getBoundingClientRect(),r=Math.round(e*t),a=Math.round(n*t);(this.canvas.width!==r||this.canvas.height!==a)&&(this.canvas.width=r,this.canvas.height=a,this.gl.viewport(0,0,this.canvas.width,this.canvas.height))}createProjectionMatrix(t,e,n){const r=this.canvas.width/this.canvas.height,o=1/(r>1?n/r:n);return new Float32Array([o/r,0,0,0,0,o,0,0,0,0,1,0,-t*o/r,-e*o,0,1])}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}}class Tt{constructor(t){this.gl=t,this.program=null,this.locations={}}createShader(t,e){const n=this.gl.createShader(t);return this.gl.shaderSource(n,e),this.gl.compileShader(n),n}createProgram(t,e){const n=this.createShader(this.gl.VERTEX_SHADER,t),r=this.createShader(this.gl.FRAGMENT_SHADER,e),a=this.gl.createProgram();return this.gl.attachShader(a,n),this.gl.attachShader(a,r),this.gl.linkProgram(a),this.gl.deleteShader(n),this.gl.deleteShader(r),a}}class Ct extends Tt{constructor(t){super(t.webgl.gl),this.numCircles=0,this.offsets=null,this.sizes=null,this.colors=null,this.titles=null,this.ids=null,this.vao=null,this.buffers={position:null,offset:null,size:null,color:null},this.initShaders()}initShaders(){const t=`#version 300 es
			in vec2 point;      
			in vec2 position;   
			in float size;
			in vec4 color;      
			uniform mat4 modelViewProjection; 
			uniform float cameraDistance;
			out vec2 vPoint;    
			out vec4 vColor;    

			void main() {
				vec2 scaledPosition = point * (size + cameraDistance) + position;
				gl_Position = modelViewProjection * vec4(scaledPosition, 0.0, 1.0);
				vPoint = point; // we give the position so it can be interpolated and we can use it to discard fragments outside the circle
				vColor = color; 
			}`,e=`#version 300 es
			precision highp float;
			in vec2 vPoint;     
			in vec4 vColor; 
			out vec4 fragColor;
			
			void main() {
				float dist = length(vPoint); 
				if (dist > 1.0) discard;     
				
				// Mix the color with white to make it more pastel
				vec3 pastelColor = mix(vColor.rgb, vec3(1.0), 0.3); 
				fragColor = vec4(pastelColor, vColor.a);
			}`;this.program=this.createProgram(t,e),this.locations={point:this.gl.getAttribLocation(this.program,"point"),position:this.gl.getAttribLocation(this.program,"position"),size:this.gl.getAttribLocation(this.program,"size"),color:this.gl.getAttribLocation(this.program,"color"),modelViewProjection:this.gl.getUniformLocation(this.program,"modelViewProjection"),cameraDistance:this.gl.getUniformLocation(this.program,"cameraDistance")}}initBuffers(){const t=this.gl;this.clean(),this.vao=t.createVertexArray(),t.bindVertexArray(this.vao);const e=new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]);this.buffers.position=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.position),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(this.locations.point),t.vertexAttribPointer(this.locations.point,2,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.locations.point,0),this.buffers.offset=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.offset),t.bufferData(t.ARRAY_BUFFER,this.offsets,t.DYNAMIC_DRAW),t.enableVertexAttribArray(this.locations.position),t.vertexAttribPointer(this.locations.position,2,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.locations.position,1),this.buffers.size=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.size),t.bufferData(t.ARRAY_BUFFER,this.sizes,t.DYNAMIC_DRAW),t.enableVertexAttribArray(this.locations.size),t.vertexAttribPointer(this.locations.size,1,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.locations.size,1),this.buffers.color=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.color),t.bufferData(t.ARRAY_BUFFER,this.colors,t.DYNAMIC_DRAW),t.enableVertexAttribArray(this.locations.color),t.vertexAttribPointer(this.locations.color,4,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.locations.color,1),t.bindVertexArray(null)}batchAddCircles(t){this.numCircles=t.numItems,this.offsets=t.offsets,this.sizes=t.sizes,this.colors=t.colors,this.titles=t.titles,this.ids=t.ids,this.initBuffers()}draw(t,e){const n=this.gl;n.useProgram(this.program),n.bindVertexArray(this.vao),n.uniformMatrix4fv(this.locations.modelViewProjection,!1,t),n.uniform1f(this.locations.cameraDistance,e*6e-4),n.drawArraysInstanced(n.TRIANGLES,0,6,this.numCircles)}clean(){const t=this.gl;this.vao&&(t.deleteVertexArray(this.vao),this.vao=null),this.buffers.position&&(t.deleteBuffer(this.buffers.position),this.buffers.position=null),this.buffers.offset&&(t.deleteBuffer(this.buffers.offset),this.buffers.offset=null),this.buffers.size&&(t.deleteBuffer(this.buffers.size),this.buffers.size=null),this.buffers.color&&(t.deleteBuffer(this.buffers.color),this.buffers.color=null)}}class kt extends Tt{constructor(t){super(t.webgl.gl),this.fontInfo=null,this.characterCount=0,this.positions=null,this.charSizes=null,this.texturePositions=null,this.vao=null,this.texture=null,this.buffers={point:null,position:null,charSize:null,texturePosition:null},this.initShaders()}initShaders(){const t=`#version 300 es
			precision highp float;
			
			uniform mat4 modelViewProjection;
			uniform vec4 color;
		
			in vec3 position;
			in vec2 point;
			in vec2 charSize;
			in vec4 texturePosition;
		
			out vec2 vPoint;
			out vec4 vColor;
		
			void main() {
				
				vec3 pos = position + vec3(vec2(point) * charSize.xy, 0.0);
				gl_Position = modelViewProjection * vec4(pos, 1.0);
				vPoint = texturePosition.xy + point * texturePosition.zw;
				vColor = color;
			}`,e=`#version 300 es
			precision highp float;
			
			uniform sampler2D msdf;
			uniform float bias;
		
			in vec2 vPoint;
			in vec4 vColor;
		
			out vec4 fragColor;
		
			float median(float r, float g, float b) {
				return max(min(r, g), min(max(r, g), b));
			}
		
			void main() {
		
				if (vColor.a <= 0.0) {
					discard;
					return;
				}
				
				vec3 saple = texture(msdf, vPoint).rgb;
				float sigDist = median(saple.r, saple.g, saple.b) - bias;

				float alpha = clamp(sigDist / fwidth(sigDist) + bias, 0.0, 1.0);

				fragColor = vec4(vColor.rgb, vColor.a * alpha);
				
				if (fragColor.a < 0.01) discard;
			}`;this.program=this.createProgram(t,e),this.locations={position:this.gl.getAttribLocation(this.program,"position"),point:this.gl.getAttribLocation(this.program,"point"),charSize:this.gl.getAttribLocation(this.program,"charSize"),texturePosition:this.gl.getAttribLocation(this.program,"texturePosition"),modelViewProjection:this.gl.getUniformLocation(this.program,"modelViewProjection"),color:this.gl.getUniformLocation(this.program,"color"),bias:this.gl.getUniformLocation(this.program,"bias"),msdf:this.gl.getUniformLocation(this.program,"msdf")}}initBuffers(){const t=this.gl;this.clean(),this.vao=t.createVertexArray(),t.bindVertexArray(this.vao);const e=new Float32Array([0,0,1,0,1,1,1,1,0,0,0,1]);this.buffers.point=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.point),t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW),t.enableVertexAttribArray(this.locations.point),t.vertexAttribPointer(this.locations.point,2,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.locations.point,0),this.buffers.position=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.position),t.bufferData(t.ARRAY_BUFFER,this.positions,t.DYNAMIC_DRAW),t.enableVertexAttribArray(this.locations.position),t.vertexAttribPointer(this.locations.position,3,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.locations.position,1),this.buffers.charSize=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.charSize),t.bufferData(t.ARRAY_BUFFER,this.charSizes,t.DYNAMIC_DRAW),t.enableVertexAttribArray(this.locations.charSize),t.vertexAttribPointer(this.locations.charSize,2,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.locations.charSize,1),this.buffers.texturePosition=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffers.texturePosition),t.bufferData(t.ARRAY_BUFFER,this.texturePositions,t.DYNAMIC_DRAW),t.enableVertexAttribArray(this.locations.texturePosition),t.vertexAttribPointer(this.locations.texturePosition,4,t.FLOAT,!1,0,0),t.vertexAttribDivisor(this.locations.texturePosition,1),t.bindVertexArray(null)}async loadFont(){try{const e=await(await fetch("/fonts/Roboto.json",{mode:"cors"})).json();return this.fontInfo=e,this.alphabet=new Map,e.chars.forEach(n=>{this.alphabet.set(String.fromCharCode(n.id),n)}),new Promise((n,r)=>{const a=new Image;a.crossOrigin="Anonymous",a.onload=()=>{const o=this.gl;this.texture&&(o.deleteTexture(this.texture),this.texture=null),this.texture=o.createTexture(),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!0),o.bindTexture(o.TEXTURE_2D,this.texture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.bindTexture(o.TEXTURE_2D,null),this.sdfTextureWidth=a.width,this.sdfTextureHeight=a.height,n()},a.onerror=()=>{r(new Error("Failed to load font texture"))},a.src="/fonts/Roboto0.png"})}catch(t){throw console.error("Failed to load font:",t),t}}batchAddText(t){let e=0;for(const n of t)n.text&&(e+=n.text.length);this.characterCount=0,this.positions=new Float32Array(e*3),this.charSizes=new Float32Array(e*2),this.texturePositions=new Float32Array(e*4);for(const n of t)this.addText(n);this.initBuffers()}addText(t){let{text:e,x:n=0,y:r=0,z:a=0}=t,o=0,f=t.fontSize;if(t.limit!==void 0){let l=0;for(let E of e){const A=this.alphabet.get(E)||this.alphabet.get("?");l+=A.xadvance}f=t.limit*this.fontInfo.info.size/l}const p=f/this.fontInfo.info.size;if(t.cx!==void 0){let l=0;for(const E of e){const A=this.alphabet.get(E)||this.alphabet.get("_");l+=A.xadvance}o-=l*t.cx*p}t.cy!==void 0&&(r+=f*t.cy);for(let l=0;l<e.length;l++){const E=this.characterCount+l,A=e[l],y=this.alphabet.get(A)||this.alphabet.get("_"),S=E*3;this.positions[S]=n+o,this.positions[S+1]=r-y.yoffset*p,this.positions[S+2]=a;const j=E*2;this.charSizes[j]=f*y.width/42,this.charSizes[j+1]=-f*y.height/42;const Z=E*4;this.texturePositions[Z]=y.x/this.sdfTextureWidth,this.texturePositions[Z+1]=1-y.y/this.sdfTextureHeight,this.texturePositions[Z+2]=y.width/this.sdfTextureWidth,this.texturePositions[Z+3]=-y.height/this.sdfTextureHeight,o+=y.xadvance*p}this.characterCount+=e.length}draw(t){const e=this.gl;e.useProgram(this.program),e.bindVertexArray(this.vao),e.uniformMatrix4fv(this.locations.modelViewProjection,!1,t),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this.texture),e.uniform1i(this.locations.msdf,0),e.uniform4f(this.locations.color,1,1,1,1),e.uniform1f(this.locations.bias,.5),e.drawArraysInstanced(e.TRIANGLES,0,6,this.characterCount),e.bindVertexArray(null)}clean(){const t=this.gl;this.vao&&(t.deleteVertexArray(this.vao),this.vao=null),this.buffers.point&&(t.deleteBuffer(this.buffers.point),this.buffers.point=null),this.buffers.position&&(t.deleteBuffer(this.buffers.position),this.buffers.position=null),this.buffers.charSize&&(t.deleteBuffer(this.buffers.charSize),this.buffers.charSize=null),this.buffers.texturePosition&&(t.deleteBuffer(this.buffers.texturePosition),this.buffers.texturePosition=null)}}function Dt(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}var ct={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var It=ct.exports,_t;function Lt(){return _t||(_t=1,(function(k,t){((e,n)=>{k.exports=n()})(It,function e(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r,a=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,f={},p=0,l={};function E(i){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(s){var h=ft(s);h.chunkSize=parseInt(h.chunkSize),s.step||s.chunk||(h.chunkSize=null),this._handle=new Z(h),(this._handle.streamer=this)._config=h}).call(this,i),this.parseChunk=function(s,h){var u=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<u){let x=this._config.newline;x||(c=this._config.quoteChar||'"',x=this._handle.guessLineEndings(s,c)),s=[...s.split(x).slice(u)].join(x)}this.isFirstChunk&&D(this._config.beforeFirstChunk)&&(c=this._config.beforeFirstChunk(s))!==void 0&&(s=c),this.isFirstChunk=!1,this._halted=!1;var u=this._partialLine+s,c=(this._partialLine="",this._handle.parse(u,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(s=c.meta.cursor,u=(this._finished||(this._partialLine=u.substring(s-this._baseIndex),this._baseIndex=s),c&&c.data&&(this._rowCount+=c.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:c,workerId:l.WORKER_ID,finished:u});else if(D(this._config.chunk)&&!h){if(this._config.chunk(c,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=c=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(c.data),this._completeResults.errors=this._completeResults.errors.concat(c.errors),this._completeResults.meta=c.meta),this._completed||!u||!D(this._config.complete)||c&&c.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||c&&c.meta.paused||this._nextChunk(),c}this._halted=!0},this._sendError=function(s){D(this._config.error)?this._config.error(s):o&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:s,finished:!1})}}function A(i){var s;(i=i||{}).chunkSize||(i.chunkSize=l.RemoteChunkSize),E.call(this,i),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(s=new XMLHttpRequest,this._config.withCredentials&&(s.withCredentials=this._config.withCredentials),a||(s.onload=it(this._chunkLoaded,this),s.onerror=it(this._chunkError,this)),s.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var h,u=this._config.downloadRequestHeaders;for(h in u)s.setRequestHeader(h,u[h])}var c;this._config.chunkSize&&(c=this._start+this._config.chunkSize-1,s.setRequestHeader("Range","bytes="+this._start+"-"+c));try{s.send(this._config.downloadRequestBody)}catch(x){this._chunkError(x.message)}a&&s.status===0&&this._chunkError()}},this._chunkLoaded=function(){s.readyState===4&&(s.status<200||400<=s.status?this._chunkError():(this._start+=this._config.chunkSize||s.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(s),this.parseChunk(s.responseText)))},this._chunkError=function(h){h=s.statusText||h,this._sendError(new Error(h))}}function y(i){(i=i||{}).chunkSize||(i.chunkSize=l.LocalChunkSize),E.call(this,i);var s,h,u=typeof FileReader<"u";this.stream=function(c){this._input=c,h=c.slice||c.webkitSlice||c.mozSlice,u?((s=new FileReader).onload=it(this._chunkLoaded,this),s.onerror=it(this._chunkError,this)):s=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var c=this._input,x=(this._config.chunkSize&&(x=Math.min(this._start+this._config.chunkSize,this._input.size),c=h.call(c,this._start,x)),s.readAsText(c,this._config.encoding));u||this._chunkLoaded({target:{result:x}})},this._chunkLoaded=function(c){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(c.target.result)},this._chunkError=function(){this._sendError(s.error)}}function S(i){var s;E.call(this,i=i||{}),this.stream=function(h){return s=h,this._nextChunk()},this._nextChunk=function(){var h,u;if(!this._finished)return h=this._config.chunkSize,s=h?(u=s.substring(0,h),s.substring(h)):(u=s,""),this._finished=!s,this.parseChunk(u)}}function j(i){E.call(this,i=i||{});var s=[],h=!0,u=!1;this.pause=function(){E.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){E.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(c){this._input=c,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){u&&s.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),s.length?this.parseChunk(s.shift()):h=!0},this._streamData=it(function(c){try{s.push(typeof c=="string"?c:c.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(s.shift()))}catch(x){this._streamError(x)}},this),this._streamError=it(function(c){this._streamCleanUp(),this._sendError(c)},this),this._streamEnd=it(function(){this._streamCleanUp(),u=!0,this._streamData("")},this),this._streamCleanUp=it(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Z(i){var s,h,u,c,x=Math.pow(2,53),U=-x,N=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,_=this,z=0,g=0,W=!1,b=!1,T=[],d={data:[],errors:[],meta:{}};function G(w){return i.skipEmptyLines==="greedy"?w.join("").trim()==="":w.length===1&&w[0].length===0}function H(){if(d&&u&&(Q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),u=!1),i.skipEmptyLines&&(d.data=d.data.filter(function(m){return!G(m)})),Y()){let m=function(F,O){D(i.transformHeader)&&(F=i.transformHeader(F,O)),T.push(F)};if(d)if(Array.isArray(d.data[0])){for(var w=0;Y()&&w<d.data.length;w++)d.data[w].forEach(m);d.data.splice(0,1)}else d.data.forEach(m)}function P(m,F){for(var O=i.header?{}:[],C=0;C<m.length;C++){var I=C,R=m[C],R=(($,v)=>(L=>(i.dynamicTypingFunction&&i.dynamicTyping[L]===void 0&&(i.dynamicTyping[L]=i.dynamicTypingFunction(L)),(i.dynamicTyping[L]||i.dynamicTyping)===!0))($)?v==="true"||v==="TRUE"||v!=="false"&&v!=="FALSE"&&((L=>{if(N.test(L)&&(L=parseFloat(L),U<L&&L<x))return 1})(v)?parseFloat(v):q.test(v)?new Date(v):v===""?null:v):v)(I=i.header?C>=T.length?"__parsed_extra":T[C]:I,R=i.transform?i.transform(R,I):R);I==="__parsed_extra"?(O[I]=O[I]||[],O[I].push(R)):O[I]=R}return i.header&&(C>T.length?Q("FieldMismatch","TooManyFields","Too many fields: expected "+T.length+" fields but parsed "+C,g+F):C<T.length&&Q("FieldMismatch","TooFewFields","Too few fields: expected "+T.length+" fields but parsed "+C,g+F)),O}var M;d&&(i.header||i.dynamicTyping||i.transform)&&(M=1,!d.data.length||Array.isArray(d.data[0])?(d.data=d.data.map(P),M=d.data.length):d.data=P(d.data,0),i.header&&d.meta&&(d.meta.fields=T),g+=M)}function Y(){return i.header&&T.length===0}function Q(w,P,M,m){w={type:w,code:P,message:M},m!==void 0&&(w.row=m),d.errors.push(w)}D(i.step)&&(c=i.step,i.step=function(w){d=w,Y()?H():(H(),d.data.length!==0&&(z+=w.data.length,i.preview&&z>i.preview?h.abort():(d.data=d.data[0],c(d,_))))}),this.parse=function(w,P,M){var m=i.quoteChar||'"',m=(i.newline||(i.newline=this.guessLineEndings(w,m)),u=!1,i.delimiter?D(i.delimiter)&&(i.delimiter=i.delimiter(w),d.meta.delimiter=i.delimiter):((m=((F,O,C,I,R)=>{var $,v,L,st;R=R||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var rt=0;rt<R.length;rt++){for(var K,ht=R[rt],X=0,J=0,B=0,V=(L=void 0,new dt({comments:I,delimiter:ht,newline:O,preview:10}).parse(F)),et=0;et<V.data.length;et++)C&&G(V.data[et])?B++:(K=V.data[et].length,J+=K,L===void 0?L=K:0<K&&(X+=Math.abs(K-L),L=K));0<V.data.length&&(J/=V.data.length-B),(v===void 0||X<=v)&&(st===void 0||st<J)&&1.99<J&&(v=X,$=ht,st=J)}return{successful:!!(i.delimiter=$),bestDelimiter:$}})(w,i.newline,i.skipEmptyLines,i.comments,i.delimitersToGuess)).successful?i.delimiter=m.bestDelimiter:(u=!0,i.delimiter=l.DefaultDelimiter),d.meta.delimiter=i.delimiter),ft(i));return i.preview&&i.header&&m.preview++,s=w,h=new dt(m),d=h.parse(s,P,M),H(),W?{meta:{paused:!0}}:d||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,h.abort(),s=D(i.chunk)?"":s.substring(h.getCharIndex())},this.resume=function(){_.streamer._halted?(W=!1,_.streamer.parseChunk(s,!0)):setTimeout(_.resume,3)},this.aborted=function(){return b},this.abort=function(){b=!0,h.abort(),d.meta.aborted=!0,D(i.complete)&&i.complete(d),s=""},this.guessLineEndings=function(F,m){F=F.substring(0,1048576);var m=new RegExp(nt(m)+"([^]*?)"+nt(m),"gm"),M=(F=F.replace(m,"")).split("\r"),m=F.split(`
`),F=1<m.length&&m[0].length<M[0].length;if(M.length===1||F)return`
`;for(var O=0,C=0;C<M.length;C++)M[C][0]===`
`&&O++;return O>=M.length/2?`\r
`:"\r"}}function nt(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function dt(i){var s=(i=i||{}).delimiter,h=i.newline,u=i.comments,c=i.step,x=i.preview,U=i.fastMode,N=null,q=!1,_=i.quoteChar==null?'"':i.quoteChar,z=_;if(i.escapeChar!==void 0&&(z=i.escapeChar),(typeof s!="string"||-1<l.BAD_DELIMITERS.indexOf(s))&&(s=","),u===s)throw new Error("Comment character same as delimiter");u===!0?u="#":(typeof u!="string"||-1<l.BAD_DELIMITERS.indexOf(u))&&(u=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var g=0,W=!1;this.parse=function(b,T,d){if(typeof b!="string")throw new Error("Input must be a string");var G=b.length,H=s.length,Y=h.length,Q=u.length,w=D(c),P=[],M=[],m=[],F=g=0;if(!b)return X();if(U||U!==!1&&b.indexOf(_)===-1){for(var O=b.split(h),C=0;C<O.length;C++){if(m=O[C],g+=m.length,C!==O.length-1)g+=h.length;else if(d)return X();if(!u||m.substring(0,Q)!==u){if(w){if(P=[],st(m.split(s)),J(),W)return X()}else st(m.split(s));if(x&&x<=C)return P=P.slice(0,x),X(!0)}}return X()}for(var I=b.indexOf(s,g),R=b.indexOf(h,g),$=new RegExp(nt(z)+nt(_),"g"),v=b.indexOf(_,g);;)if(b[g]===_)for(v=g,g++;;){if((v=b.indexOf(_,v+1))===-1)return d||M.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:P.length,index:g}),K();if(v===G-1)return K(b.substring(g,v).replace($,_));if(_===z&&b[v+1]===z)v++;else if(_===z||v===0||b[v-1]!==z){I!==-1&&I<v+1&&(I=b.indexOf(s,v+1));var L=rt((R=R!==-1&&R<v+1?b.indexOf(h,v+1):R)===-1?I:Math.min(I,R));if(b.substr(v+1+L,H)===s){m.push(b.substring(g,v).replace($,_)),b[g=v+1+L+H]!==_&&(v=b.indexOf(_,g)),I=b.indexOf(s,g),R=b.indexOf(h,g);break}if(L=rt(R),b.substring(v+1+L,v+1+L+Y)===h){if(m.push(b.substring(g,v).replace($,_)),ht(v+1+L+Y),I=b.indexOf(s,g),v=b.indexOf(_,g),w&&(J(),W))return X();if(x&&P.length>=x)return X(!0);break}M.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:P.length,index:g}),v++}}else if(u&&m.length===0&&b.substring(g,g+Q)===u){if(R===-1)return X();g=R+Y,R=b.indexOf(h,g),I=b.indexOf(s,g)}else if(I!==-1&&(I<R||R===-1))m.push(b.substring(g,I)),g=I+H,I=b.indexOf(s,g);else{if(R===-1)break;if(m.push(b.substring(g,R)),ht(R+Y),w&&(J(),W))return X();if(x&&P.length>=x)return X(!0)}return K();function st(B){P.push(B),F=g}function rt(B){var V=0;return V=B!==-1&&(B=b.substring(v+1,B))&&B.trim()===""?B.length:V}function K(B){return d||(B===void 0&&(B=b.substring(g)),m.push(B),g=G,st(m),w&&J()),X()}function ht(B){g=B,st(m),m=[],R=b.indexOf(h,g)}function X(B){if(i.header&&!T&&P.length&&!q){var V=P[0],et=Object.create(null),pt=new Set(V);let vt=!1;for(let at=0;at<V.length;at++){let tt=V[at];if(et[tt=D(i.transformHeader)?i.transformHeader(tt,at):tt]){let lt,xt=et[tt];for(;lt=tt+"_"+xt,xt++,pt.has(lt););pt.add(lt),V[at]=lt,et[tt]++,vt=!0,(N=N===null?{}:N)[lt]=tt}else et[tt]=1,V[at]=tt;pt.add(tt)}vt&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:P,errors:M,meta:{delimiter:s,linebreak:h,aborted:W,truncated:!!B,cursor:F+(T||0),renamedHeaders:N}}}function J(){c(X()),P=[],M=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return g}}function Et(i){var s=i.data,h=f[s.workerId],u=!1;if(s.error)h.userError(s.error,s.file);else if(s.results&&s.results.data){var c={abort:function(){u=!0,mt(s.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:bt,resume:bt};if(D(h.userStep)){for(var x=0;x<s.results.data.length&&(h.userStep({data:s.results.data[x],errors:s.results.errors,meta:s.results.meta},c),!u);x++);delete s.results}else D(h.userChunk)&&(h.userChunk(s.results,c,s.file),delete s.results)}s.finished&&!u&&mt(s.workerId,s.results)}function mt(i,s){var h=f[i];D(h.userComplete)&&h.userComplete(s),h.terminate(),delete f[i]}function bt(){throw new Error("Not implemented.")}function ft(i){if(typeof i!="object"||i===null)return i;var s,h=Array.isArray(i)?[]:{};for(s in i)h[s]=ft(i[s]);return h}function it(i,s){return function(){i.apply(s,arguments)}}function D(i){return typeof i=="function"}return l.parse=function(i,s){var h=(s=s||{}).dynamicTyping||!1;if(D(h)&&(s.dynamicTypingFunction=h,h={}),s.dynamicTyping=h,s.transform=!!D(s.transform)&&s.transform,!s.worker||!l.WORKERS_SUPPORTED)return h=null,l.NODE_STREAM_INPUT,typeof i=="string"?(i=(u=>u.charCodeAt(0)!==65279?u:u.slice(1))(i),h=new(s.download?A:S)(s)):i.readable===!0&&D(i.read)&&D(i.on)?h=new j(s):(n.File&&i instanceof File||i instanceof Object)&&(h=new y(s)),h.stream(i);(h=(()=>{var u;return!!l.WORKERS_SUPPORTED&&(u=(()=>{var c=n.URL||n.webkitURL||null,x=e.toString();return l.BLOB_URL||(l.BLOB_URL=c.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",x,")();"],{type:"text/javascript"})))})(),(u=new n.Worker(u)).onmessage=Et,u.id=p++,f[u.id]=u)})()).userStep=s.step,h.userChunk=s.chunk,h.userComplete=s.complete,h.userError=s.error,s.step=D(s.step),s.chunk=D(s.chunk),s.complete=D(s.complete),s.error=D(s.error),delete s.worker,h.postMessage({input:i,config:s,workerId:h.id})},l.unparse=function(i,s){var h=!1,u=!0,c=",",x=`\r
`,U='"',N=U+U,q=!1,_=null,z=!1,g=((()=>{if(typeof s=="object"){if(typeof s.delimiter!="string"||l.BAD_DELIMITERS.filter(function(T){return s.delimiter.indexOf(T)!==-1}).length||(c=s.delimiter),typeof s.quotes!="boolean"&&typeof s.quotes!="function"&&!Array.isArray(s.quotes)||(h=s.quotes),typeof s.skipEmptyLines!="boolean"&&typeof s.skipEmptyLines!="string"||(q=s.skipEmptyLines),typeof s.newline=="string"&&(x=s.newline),typeof s.quoteChar=="string"&&(U=s.quoteChar),typeof s.header=="boolean"&&(u=s.header),Array.isArray(s.columns)){if(s.columns.length===0)throw new Error("Option columns is empty");_=s.columns}s.escapeChar!==void 0&&(N=s.escapeChar+U),s.escapeFormulae instanceof RegExp?z=s.escapeFormulae:typeof s.escapeFormulae=="boolean"&&s.escapeFormulae&&(z=/^[=+\-@\t\r].*$/)}})(),new RegExp(nt(U),"g"));if(typeof i=="string"&&(i=JSON.parse(i)),Array.isArray(i)){if(!i.length||Array.isArray(i[0]))return W(null,i,q);if(typeof i[0]=="object")return W(_||Object.keys(i[0]),i,q)}else if(typeof i=="object")return typeof i.data=="string"&&(i.data=JSON.parse(i.data)),Array.isArray(i.data)&&(i.fields||(i.fields=i.meta&&i.meta.fields||_),i.fields||(i.fields=Array.isArray(i.data[0])?i.fields:typeof i.data[0]=="object"?Object.keys(i.data[0]):[]),Array.isArray(i.data[0])||typeof i.data[0]=="object"||(i.data=[i.data])),W(i.fields||[],i.data||[],q);throw new Error("Unable to serialize unrecognized input");function W(T,d,G){var H="",Y=(typeof T=="string"&&(T=JSON.parse(T)),typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(T)&&0<T.length),Q=!Array.isArray(d[0]);if(Y&&u){for(var w=0;w<T.length;w++)0<w&&(H+=c),H+=b(T[w],w);0<d.length&&(H+=x)}for(var P=0;P<d.length;P++){var M=(Y?T:d[P]).length,m=!1,F=Y?Object.keys(d[P]).length===0:d[P].length===0;if(G&&!Y&&(m=G==="greedy"?d[P].join("").trim()==="":d[P].length===1&&d[P][0].length===0),G==="greedy"&&Y){for(var O=[],C=0;C<M;C++){var I=Q?T[C]:C;O.push(d[P][I])}m=O.join("").trim()===""}if(!m){for(var R=0;R<M;R++){0<R&&!F&&(H+=c);var $=Y&&Q?T[R]:R;H+=b(d[P][$],R)}P<d.length-1&&(!G||0<M&&!F)&&(H+=x)}}return H}function b(T,d){var G,H;return T==null?"":T.constructor===Date?JSON.stringify(T).slice(1,25):(H=!1,z&&typeof T=="string"&&z.test(T)&&(T="'"+T,H=!0),G=T.toString().replace(g,N),(H=H||h===!0||typeof h=="function"&&h(T,d)||Array.isArray(h)&&h[d]||((Y,Q)=>{for(var w=0;w<Q.length;w++)if(-1<Y.indexOf(Q[w]))return!0;return!1})(G,l.BAD_DELIMITERS)||-1<G.indexOf(c)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?U+G+U:G)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!a&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=dt,l.ParserHandle=Z,l.NetworkStreamer=A,l.FileStreamer=y,l.StringStreamer=S,l.ReadableStreamStreamer=j,n.jQuery&&((r=n.jQuery).fn.parse=function(i){var s=i.config||{},h=[];return this.each(function(x){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)h.push({file:this.files[U],inputElem:this,instanceConfig:r.extend({},s)})}),u(),this;function u(){if(h.length===0)D(i.complete)&&i.complete();else{var x,U,N,q,_=h[0];if(D(i.before)){var z=i.before(_.file,_.inputElem);if(typeof z=="object"){if(z.action==="abort")return x="AbortError",U=_.file,N=_.inputElem,q=z.reason,void(D(i.error)&&i.error({name:x},U,N,q));if(z.action==="skip")return void c();typeof z.config=="object"&&(_.instanceConfig=r.extend(_.instanceConfig,z.config))}else if(z==="skip")return void c()}var g=_.instanceConfig.complete;_.instanceConfig.complete=function(W){D(g)&&g(W,_.file,_.inputElem),c()},l.parse(_.file,_.instanceConfig)}}function c(){h.splice(0,1),u()}}),o&&(n.onmessage=function(i){i=i.data,l.WORKER_ID===void 0&&i&&(l.WORKER_ID=i.workerId),typeof i.input=="string"?n.postMessage({workerId:l.WORKER_ID,results:l.parse(i.input,i.config),finished:!0}):(n.File&&i.input instanceof File||i.input instanceof Object)&&(i=l.parse(i.input,i.config))&&n.postMessage({workerId:l.WORKER_ID,results:i,finished:!0})}),(A.prototype=Object.create(E.prototype)).constructor=A,(y.prototype=Object.create(E.prototype)).constructor=y,(S.prototype=Object.create(S.prototype)).constructor=S,(j.prototype=Object.create(E.prototype)).constructor=j,l})})(ct)),ct.exports}var zt=Lt();const Mt=Dt(zt),ut=class ut{async loadCSV(t,e){const n=t.split(","),r=n.length;let a=[];for(let o=0;o<r;o++){const f=await this.loadSingleCSV(n[o],p=>{e(Math.floor((o+p/100)/r*100))});a=a.concat(f)}return a}async loadSingleCSV(t,e){const n=await fetch(t),r=t.split("/").pop(),a=ut.FILE_SIZES[r],o=n.body.getReader();let f=0;const p=[];for(;;){const{done:A,value:y}=await o.read();if(A)break;p.push(y),a&&e&&(f+=y.length,e(f/a*100))}const E=await new Blob(p).text();return new Promise((A,y)=>{Mt.parse(E,{header:!0,dynamicTyping:!1,skipEmptyLines:!0,complete:S=>{!S.data||S.data.length===0?y(new Error("CSV file contains no data")):A(S.data)},error:S=>y(S)})})}processData(t){const e=t.length,n=new Float32Array(e*2),r=new Float32Array(e),a=new Float32Array(e*4),o=new Array(e),f=new Array(e);for(let p=0;p<e;p++){const l=t[p];n[p*2]=parseFloat(l.x),n[p*2+1]=parseFloat(l.y),r[p]=parseFloat(l.size),a[p*4]=parseFloat(l.r),a[p*4+1]=parseFloat(l.g),a[p*4+2]=parseFloat(l.b),a[p*4+3]=1,o[p]=l.title,f[p]=parseInt(l.id)}return{numItems:e,offsets:n,sizes:r,colors:a,titles:o,ids:f}}};yt(ut,"FILE_SIZES",{"layout60k-Sep-10-2024.csv":6792224,"layout500k-Sep-10-2024.csv":57693366,"layout1m-part1-Sep-10-2024.csv":59988553,"layout1m-part2-Sep-10-2024.csv":56877942});let gt=ut;class Ft{constructor(t){this.bus=t,this.searchInput=document.getElementById("search"),this.resultsContainer=document.getElementById("search-results"),this.loadingIndicator=document.querySelector(".search-loading"),this.searchButton=document.getElementById("search-button"),this.isDataInitialized=!1,this.searchWorker=new Worker(new URL("/assets/searchworker-GZV8J5GI.js",import.meta.url),{type:"module"}),this.searchWorker.onmessage=e=>this.handleWorkerMessage(e),this.searchButton.addEventListener("click",()=>this.performSearch()),this.searchInput.addEventListener("input",()=>this.clearResults())}performSearch(){const t=this.searchInput.value.trim();if(!t){this.clearResults();return}this.loadingIndicator.style.display="block",this.searchWorker.postMessage({query:t,titles:this.isDataInitialized?null:this.bus.data.titles,options:{limit:5}}),this.isDataInitialized=!0}handleWorkerMessage(t){const{results:e}=t.data;this.displayResults(e),this.loadingIndicator.style.display="none"}displayResults(t){if(t.length===0){this.resultsContainer.innerHTML='<div class="search-result-empty">No results found</div>',this.resultsContainer.style.display="block";return}this.resultsContainer.innerHTML=t.map(e=>`<div class="search-result-item" data-title="${e.target}">${e.target}</div>`).join(""),this.resultsContainer.style.display="block",this.resultsContainer.querySelectorAll(".search-result-item").forEach(e=>{e.addEventListener("click",n=>this.handleResultClick(n))})}handleResultClick(t){const e=t.target.closest(".search-result-item").dataset.title;this.searchInput.value="",this.clearResults(),this.handleSearchResult(e)}handleSearchResult(t){const e=this.bus.data.titles.indexOf(t);if(e===-1)return;const n=this.bus.data.offsets[e*2],r=this.bus.data.offsets[e*2+1],a=this.bus.data.sizes[e]*5;this.bus.controls.smoothTransition(n,r,a,!0)}clearResults(){this.resultsContainer.innerHTML="",this.resultsContainer.style.display="none"}}class Ht{constructor(t){this.zoomLevel=1,this.cameraX=0,this.cameraY=0,this.isDragging=!1,this.wasDragging=!1,this.lastMouseX=0,this.lastMouseY=0,this.transitionActive=!1,this.startState=null,this.endState=null,this.midState=null,this.stageCount=0,this.stage=0,this.stage1Duration=2e3,this.stage2Duration=2e3,this.transitionStartTime=0,this.wheelSensitivity=.002,this.touchSensitivity=.004,this.lastTouchDistance=null,this.bus=t,this.bus.webgl.canvas.addEventListener("mousedown",e=>this.handleMouseDown(e)),this.bus.webgl.canvas.addEventListener("touchstart",e=>this.handleTouchStart(e)),this.bus.webgl.canvas.addEventListener("mouseup",()=>this.handleMouseUp()),this.bus.webgl.canvas.addEventListener("mouseleave",()=>this.handleMouseUp()),this.bus.webgl.canvas.addEventListener("touchend",()=>this.isDragging=!1),this.bus.webgl.canvas.addEventListener("mousemove",e=>this.handleMouseMove(e)),this.bus.webgl.canvas.addEventListener("touchmove",e=>this.handleTouchMove(e)),this.bus.webgl.canvas.addEventListener("wheel",e=>this.handleZoom(e)),this.bus.webgl.canvas.addEventListener("click",e=>{this.wasDragging||this.clickArticle(e),this.wasDragging=!1}),document.getElementById("random-button").addEventListener("click",()=>this.goToRandomArticle())}handleMouseDown(t){this.transitionActive||(this.isDragging=!0,this.lastMouseX=t.clientX,this.lastMouseY=t.clientY)}handleMouseUp(){this.isDragging=!1}handleMouseMove(t){!this.isDragging||this.transitionActive||(this.wasDragging=!0,this.updateCameraPosition(t.clientX,t.clientY))}handleTouchStart(t){if(!this.transitionActive){if(console.log("touch start"),t.preventDefault(),t.touches.length===2){this.lastTouchDistance=this.getTouchDistance(t.touches);return}this.isDragging=!0,this.lastMouseX=t.touches[0].clientX,this.lastMouseY=t.touches[0].clientY}}handleTouchMove(t){if(!this.transitionActive){if(t.preventDefault(),t.touches.length===2){const e=this.getTouchDistance(t.touches),n=(t.touches[0].clientX+t.touches[1].clientX)/2,r=(t.touches[0].clientY+t.touches[1].clientY)/2,a=e/this.lastTouchDistance,o=this.screenToWorld(n,r);this.zoomLevel*=1/a,this.zoomLevel=Math.min(this.zoomLevel,300),this.zoomLevel=Math.max(this.zoomLevel,.001);const f=this.screenToWorld(n,r);this.cameraX+=o.x-f.x,this.cameraY+=o.y-f.y,this.lastTouchDistance=e;return}this.isDragging&&(this.wasDragging=!0,this.updateCameraPosition(t.touches[0].clientX,t.touches[0].clientY))}}getTouchDistance(t){const e=t[0].clientX-t[1].clientX,n=t[0].clientY-t[1].clientY;return Math.hypot(e,n)}handleZoom(t){if(this.transitionActive)return;const n=Number.isInteger(t.deltaY)&&t.deltaX===0?this.wheelSensitivity:this.touchSensitivity,r=Math.exp(t.deltaY*n),a=this.screenToWorld(t.clientX,t.clientY);this.zoomLevel*=r,this.zoomLevel=Math.min(this.zoomLevel,300),this.zoomLevel=Math.max(this.zoomLevel,.001);const o=this.screenToWorld(t.clientX,t.clientY);this.cameraX+=a.x-o.x,this.cameraY+=a.y-o.y}screenToWorld(t,e){const n=this.bus.webgl.canvas.getBoundingClientRect(),r=n.width,a=n.height,o=(t-n.left)/r,f=(e-n.top)/a,p=o*2-1,l=-(f*2-1),E=r/a;let A=this.zoomLevel;E>1&&(A=this.zoomLevel/E);const y=this.cameraX+p*A*E,S=this.cameraY+l*A;return{x:y,y:S}}updateCameraPosition(t,e){const n=this.screenToWorld(this.lastMouseX,this.lastMouseY),r=this.screenToWorld(t,e);this.cameraX+=n.x-r.x,this.cameraY+=n.y-r.y,this.lastMouseX=t,this.lastMouseY=e}smoothTransition(t,e,n,r){if(this.transitionActive=!0,this.startState={x:this.cameraX,y:this.cameraY,zoom:this.zoomLevel},this.endState={x:t,y:e,zoom:n},this.stage1Duration=2e3,this.stage2Duration=2e3,r===!1)this.stageCount=1;else{const a=this.endState.x-this.startState.x,o=this.endState.y-this.startState.y,f=Math.hypot(a,o),p=Math.max(this.startState.zoom,f*.8);this.midState={x:this.cameraX,y:this.cameraY,zoom:p},this.stageCount=2,this.stage=0,this.zoomLevel===p&&(this.stage1Duration=0)}this.transitionStartTime=performance.now()}updateTransition(t){const e=t-this.transitionStartTime;let n;this.stageCount===1?n=this.stage1Duration:this.stage===0?n=this.stage1Duration:n=this.stage2Duration;const r=Math.min(e/n,1),a=r<.5?2*r*r:1-Math.pow(-2*r+2,2)/2;if(this.stageCount===1)this.zoomLevel=this.startState.zoom+(this.endState.zoom-this.startState.zoom)*a,r>=1&&(this.cameraX=this.endState.x,this.cameraY=this.endState.y,this.transitionActive=!1);else if(this.stageCount===2&&this.stage===0)this.zoomLevel=this.startState.zoom+(this.midState.zoom-this.startState.zoom)*a,r>=1&&(this.stage=1,this.transitionStartTime=t);else if(this.stageCount===2&&this.stage===1){const o=this.midState,f=this.endState;this.cameraX=o.x+(f.x-o.x)*a,this.cameraY=o.y+(f.y-o.y)*a,this.zoomLevel=o.zoom+(f.zoom-o.zoom)*a,r>=1&&(this.transitionActive=!1)}}reset(){this.cameraX=0,this.cameraY=0,this.zoomLevel=1,this.smoothTransition(0,0,60,!1)}clickArticle(t){const e=this.screenToWorld(t.clientX,t.clientY);console.log("cursor",e);const{offsets:n,sizes:r,ids:a,titles:o,numItems:f}=this.bus.data;for(let p=0;p<f;p++){const l=n[p*2],E=n[p*2+1],A=r[p],y=e.x-l,S=e.y-E;if(Math.sqrt(y*y+S*S)<=A){const Z=a[p],nt=o[p];console.log(l,E,A),console.log(`Clicked on article: ${nt} (ID: ${Z})`),this.showEmbeddedWikiArticle(Z);return}}}showEmbeddedWikiArticle(t){const e=document.getElementById("wiki-embed-container"),n=document.getElementById("wiki-iframe"),r=document.getElementById("close-wiki-btn"),a=`https://en.wikipedia.org/?curid=${t}`;n.src=a,e.classList.add("active"),this._outsideClickHandler||(this._outsideClickHandler=o=>{!e.contains(o.target)&&e.classList.contains("active")&&!o.target.closest("#webgl-canvas")&&r.click()}),r.onclick=()=>{e.classList.remove("active"),document.removeEventListener("click",this._outsideClickHandler),setTimeout(()=>{n.src="about:blank"},300)},document.addEventListener("click",this._outsideClickHandler)}goToRandomArticle(){const t=Math.floor(Math.random()*this.bus.data.numItems),e=this.bus.data.offsets[t*2],n=this.bus.data.offsets[t*2+1],r=this.bus.data.sizes[t]*5;this.smoothTransition(e,n,r,!0)}}class wt{constructor(t,e,n){this.id=0,this.name=t,this.fg=e,this.bg=n,this.gradient=null,this.PR=Math.round(window.devicePixelRatio||1),this.WIDTH=90*this.PR,this.HEIGHT=48*this.PR,this.TEXT_X=3*this.PR,this.TEXT_Y=2*this.PR,this.GRAPH_X=3*this.PR,this.GRAPH_Y=15*this.PR,this.GRAPH_WIDTH=84*this.PR,this.GRAPH_HEIGHT=30*this.PR,this.canvas=document.createElement("canvas"),this.canvas.width=this.WIDTH,this.canvas.height=this.HEIGHT,this.canvas.style.width="90px",this.canvas.style.height="48px",this.canvas.style.position="absolute",this.canvas.style.cssText="width:90px;height:48px;background-color: transparent !important;",this.context=this.canvas.getContext("2d"),this.initializeCanvas()}createGradient(){if(!this.context)throw new Error("No context");const t=this.context.createLinearGradient(0,this.GRAPH_Y,0,this.GRAPH_Y+this.GRAPH_HEIGHT);let e;const n=this.fg;switch(this.fg.toLowerCase()){case"#0ff":e="#006666";break;case"#0f0":e="#006600";break;case"#ff0":e="#666600";break;case"#e1e1e1":e="#666666";break;default:e=this.bg;break}return t.addColorStop(0,e),t.addColorStop(1,n),t}initializeCanvas(){this.context&&(this.context.imageSmoothingEnabled=!1,this.context.font="bold "+9*this.PR+"px Helvetica,Arial,sans-serif",this.context.textBaseline="top",this.gradient=this.createGradient(),this.context.fillStyle=this.bg,this.context.fillRect(0,0,this.WIDTH,this.HEIGHT),this.context.fillStyle=this.fg,this.context.fillText(this.name,this.TEXT_X,this.TEXT_Y),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT))}update(t,e,n=0){if(!this.context||!this.gradient)return;const r=Math.min(1/0,t),a=Math.max(e,t);this.context.globalAlpha=1,this.context.fillStyle=this.bg,this.context.fillRect(0,0,this.WIDTH,this.GRAPH_Y),this.context.fillStyle=this.fg,this.context.fillText(`${t.toFixed(n)} ${this.name} (${r.toFixed(n)}-${parseFloat(a.toFixed(n))})`,this.TEXT_X,this.TEXT_Y)}updateGraph(t,e){if(!this.context||!this.gradient)return;t===0&&e===0&&(e=1),e=Math.max(e,t,.1),t=Math.max(t,0);const n=Math.round(this.GRAPH_X),r=Math.round(this.GRAPH_Y),a=Math.round(this.GRAPH_WIDTH),o=Math.round(this.GRAPH_HEIGHT),f=Math.round(this.PR);this.context.drawImage(this.canvas,n+f,r,a-f,o,n,r,a-f,o),this.context.fillStyle=this.bg,this.context.fillRect(n+a-f,r,f,o);const p=Math.min(o,Math.round(t/e*o));p>0&&(this.context.globalAlpha=.9,this.context.fillStyle=this.gradient,this.context.fillRect(n+a-f,r+(o-p),f,p)),this.context.globalAlpha=1}}class Ut extends wt{constructor(t,e,n){super(t,e,n),this.vsyncValue=0,this.SMALL_HEIGHT=9*this.PR,this.HEIGHT=this.SMALL_HEIGHT,this.WIDTH=35*this.PR,this.TEXT_Y=0*this.PR,this.canvas.height=this.HEIGHT,this.canvas.width=this.WIDTH,this.canvas.style.height="9px",this.canvas.style.width="35px",this.canvas.style.cssText=`
            width: 35px;
            height: 9px;
            position: absolute;
            top: 0;
            left: 0;
            background-color: transparent !important;
            pointer-events: none;
        `,this.initializeCanvas()}initializeCanvas(){this.context&&(this.context.imageSmoothingEnabled=!1,this.context.font="bold "+9*this.PR+"px Helvetica,Arial,sans-serif",this.context.textBaseline="top",this.context.globalAlpha=1)}update(t,e,n=0){this.context&&(this.vsyncValue=t,this.context.clearRect(0,0,this.WIDTH,this.HEIGHT),this.context.globalAlpha=1,this.context.fillStyle=this.bg,this.context.fillText(`${t.toFixed(0)}Hz`,this.TEXT_X,this.TEXT_Y))}updateGraph(t,e){}setOffset(t,e){this.canvas.style.transform=`translate(${t}px, ${e}px)`}}const Rt=class ot{constructor({trackGPU:t=!1,trackCPT:e=!1,trackHz:n=!1,logsPerSecond:r=4,graphsPerSecond:a=30,samplesLog:o=40,samplesGraph:f=10,precision:p=2,minimal:l=!1,horizontal:E=!0,mode:A=0}={}){this.gl=null,this.ext=null,this.activeQuery=null,this.gpuQueries=[],this.threeRendererPatched=!1,this.frameTimes=[],this.renderCount=0,this.totalCpuDuration=0,this.totalGpuDuration=0,this.totalGpuDurationCompute=0,this.gpuPanel=null,this.gpuPanelCompute=null,this.vsyncPanel=null,this.averageFps={logs:[],graph:[]},this.averageCpu={logs:[],graph:[]},this.averageGpu={logs:[],graph:[]},this.averageGpuCompute={logs:[],graph:[]},this.updateCounter=0,this.lastMin={},this.lastMax={},this.lastValue={},this.VSYNC_RATES=[{refreshRate:60,frameTime:16.67},{refreshRate:75,frameTime:13.33},{refreshRate:90,frameTime:11.11},{refreshRate:120,frameTime:8.33},{refreshRate:144,frameTime:6.94},{refreshRate:165,frameTime:6.06},{refreshRate:240,frameTime:4.17}],this.detectedVSync=null,this.frameTimeHistory=[],this.HISTORY_SIZE=120,this.VSYNC_THRESHOLD=.05,this.lastFrameTime=0,this.handleClick=S=>{S.preventDefault(),this.showPanel(++this.mode%this.dom.children.length)},this.handleResize=()=>{this.resizePanel(this.fpsPanel),this.resizePanel(this.msPanel),this.gpuPanel&&this.resizePanel(this.gpuPanel),this.gpuPanelCompute&&this.resizePanel(this.gpuPanelCompute)},this.mode=A,this.horizontal=E,this.minimal=l,this.trackGPU=t,this.trackCPT=e,this.trackHz=n,this.samplesLog=o,this.samplesGraph=f,this.precision=p,this.logsPerSecond=r,this.graphsPerSecond=a;const y=performance.now();this.prevGraphTime=y,this.dom=document.createElement("div"),this.initializeDOM(),this.beginTime=performance.now(),this.prevTextTime=this.beginTime,this.prevCpuTime=this.beginTime,this._panelId=0,this.fpsPanel=this.addPanel(new ot.Panel("FPS","#0ff","#002")),this.msPanel=this.addPanel(new ot.Panel("CPU","#0f0","#020")),this.trackHz===!0&&(this.vsyncPanel=new Ut("","#f0f","#202"),this.dom.appendChild(this.vsyncPanel.canvas),this.vsyncPanel.setOffset(56,35)),this.setupEventListeners()}initializeDOM(){this.dom.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      opacity: 0.9;
      z-index: 10000;
      ${this.minimal?"cursor: pointer;":""}
    `}setupEventListeners(){this.minimal?(this.dom.addEventListener("click",this.handleClick),this.showPanel(this.mode)):window.addEventListener("resize",this.handleResize)}async init(t){if(!t){console.error('Stats: The "canvas" parameter is undefined.');return}if(!this.handleThreeRenderer(t)&&!await this.handleWebGPURenderer(t))if(this.initializeWebGL(t)){this.trackGPU&&this.initializeGPUTracking();return}else console.error("Stats-gl: Failed to initialize WebGL context")}handleThreeRenderer(t){return t.isWebGLRenderer&&!this.threeRendererPatched?(this.patchThreeRenderer(t),this.gl=t.getContext(),this.trackGPU&&this.initializeGPUTracking(),!0):!1}async handleWebGPURenderer(t){return t.isWebGPURenderer?((this.trackGPU||this.trackCPT)&&(t.backend.trackTimestamp=!0,await t.hasFeatureAsync("timestamp-query")&&this.initializeWebGPUPanels()),this.info=t.info,this.patchThreeWebGPU(t),!0):!1}initializeWebGPUPanels(){this.trackGPU&&(this.gpuPanel=this.addPanel(new ot.Panel("GPU","#ff0","#220"))),this.trackCPT&&(this.gpuPanelCompute=this.addPanel(new ot.Panel("CPT","#e1e1e1","#212121")))}initializeWebGL(t){if(t instanceof WebGL2RenderingContext)this.gl=t;else if(t instanceof HTMLCanvasElement||t instanceof OffscreenCanvas){if(this.gl=t.getContext("webgl2"),!this.gl)return console.error("Stats: Unable to obtain WebGL2 context."),!1}else return console.error("Stats: Invalid input type. Expected WebGL2RenderingContext, HTMLCanvasElement, or OffscreenCanvas."),!1;return!0}initializeGPUTracking(){this.gl&&(this.ext=this.gl.getExtension("EXT_disjoint_timer_query_webgl2"),this.ext&&(this.gpuPanel=this.addPanel(new ot.Panel("GPU","#ff0","#220"))))}begin(){this.beginProfiling("cpu-started"),!(!this.gl||!this.ext)&&(this.activeQuery&&this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.activeQuery=this.gl.createQuery(),this.activeQuery&&this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,this.activeQuery))}end(){this.renderCount++,this.gl&&this.ext&&this.activeQuery&&(this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.gpuQueries.push({query:this.activeQuery}),this.activeQuery=null),this.endProfiling("cpu-started","cpu-finished","cpu-duration")}update(){this.endProfiling("cpu-started","cpu-finished","cpu-duration"),this.info?this.processWebGPUTimestamps():this.processGpuQueries(),this.updateAverages(),this.resetCounters()}processWebGPUTimestamps(){this.totalGpuDuration=this.info.render.timestamp,this.totalGpuDurationCompute=this.info.compute.timestamp}resetCounters(){this.renderCount=0,this.totalCpuDuration=0,this.beginTime=this.endInternal()}resizePanel(t){t.canvas.style.position="absolute",this.minimal?t.canvas.style.display="none":(t.canvas.style.display="block",this.horizontal?(t.canvas.style.top="0px",t.canvas.style.left=t.id*t.WIDTH/t.PR+"px"):(t.canvas.style.left="0px",t.canvas.style.top=t.id*t.HEIGHT/t.PR+"px"))}addPanel(t){return t.canvas&&(this.dom.appendChild(t.canvas),t.id=this._panelId,this.resizePanel(t),this._panelId++),t}showPanel(t){for(let e=0;e<this.dom.children.length;e++){const n=this.dom.children[e];n.style.display=e===t?"block":"none"}this.mode=t}processGpuQueries(){!this.gl||!this.ext||(this.totalGpuDuration=0,this.gpuQueries.forEach((t,e)=>{if(this.gl){const n=this.gl.getQueryParameter(t.query,this.gl.QUERY_RESULT_AVAILABLE),r=this.gl.getParameter(this.ext.GPU_DISJOINT_EXT);if(n&&!r){const o=this.gl.getQueryParameter(t.query,this.gl.QUERY_RESULT)*1e-6;this.totalGpuDuration+=o,this.gl.deleteQuery(t.query),this.gpuQueries.splice(e,1)}}}))}detectVSync(t){if(this.lastFrameTime===0){this.lastFrameTime=t;return}const e=t-this.lastFrameTime;if(this.lastFrameTime=t,this.frameTimeHistory.push(e),this.frameTimeHistory.length>this.HISTORY_SIZE&&this.frameTimeHistory.shift(),this.frameTimeHistory.length<60)return;const n=this.frameTimeHistory.reduce((p,l)=>p+l)/this.frameTimeHistory.length,r=this.frameTimeHistory.reduce((p,l)=>p+Math.pow(l-n,2),0)/this.frameTimeHistory.length;if(Math.sqrt(r)>2){this.detectedVSync=null;return}let o=null,f=1/0;for(const p of this.VSYNC_RATES){const l=Math.abs(n-p.frameTime);l<f&&(f=l,o=p)}o&&f/o.frameTime<=this.VSYNC_THRESHOLD?this.detectedVSync=o:this.detectedVSync=null}endInternal(){var t;const e=performance.now();for(this.frameTimes.push(e);this.frameTimes.length>0&&this.frameTimes[0]<=e-1e3;)this.frameTimes.shift();const n=Math.round(this.frameTimes.length);this.addToAverage(n,this.averageFps);const r=e>=this.prevTextTime+1e3/this.logsPerSecond,a=e>=this.prevGraphTime+1e3/this.graphsPerSecond;if(this.updatePanelComponents(this.fpsPanel,this.averageFps,0,r,a),this.updatePanelComponents(this.msPanel,this.averageCpu,this.precision,r,a),this.gpuPanel&&this.updatePanelComponents(this.gpuPanel,this.averageGpu,this.precision,r,a),this.trackCPT&&this.gpuPanelCompute&&this.updatePanelComponents(this.gpuPanelCompute,this.averageGpuCompute,this.precision,r,a),r&&(this.prevTextTime=e),a&&(this.prevGraphTime=e),this.vsyncPanel!==null){this.detectVSync(e);const o=((t=this.detectedVSync)==null?void 0:t.refreshRate)||0;r&&o>0&&this.vsyncPanel.update(o,o)}return e}updatePanelComponents(t,e,n,r,a){if(!t||e.logs.length===0)return;t.name in this.lastMin||(this.lastMin[t.name]=1/0,this.lastMax[t.name]=0,this.lastValue[t.name]=0);const o=e.logs[e.logs.length-1];this.lastMax[t.name]=Math.max(...e.logs),this.lastMin[t.name]=Math.min(this.lastMin[t.name],o),this.lastValue[t.name]=this.lastValue[t.name]*.7+o*.3;const f=Math.max(Math.max(...e.logs),...e.graph.slice(-this.samplesGraph));this.updateCounter++,r&&t.update(this.lastValue[t.name],this.lastMax[t.name],n),a&&t.updateGraph(o,f)}beginProfiling(t){if(window.performance)try{window.performance.clearMarks(t),window.performance.mark(t)}catch(e){console.debug("Stats: Performance marking failed:",e)}}endProfiling(t,e,n){if(!(!window.performance||!e||!t))try{window.performance.getEntriesByName(t,"mark").length===0&&this.beginProfiling(t),window.performance.clearMarks(e),window.performance.mark(e),window.performance.clearMeasures(n);const a=performance.measure(n,t,e);this.totalCpuDuration+=a.duration,window.performance.clearMarks(t),window.performance.clearMarks(e),window.performance.clearMeasures(n)}catch(r){console.debug("Stats: Performance measurement failed:",r)}}updatePanel(t,e,n=2){if(!t||e.logs.length===0)return;const r=performance.now();t.name in this.lastMin||(this.lastMin[t.name]=1/0,this.lastMax[t.name]=0,this.lastValue[t.name]=0);const a=e.logs[e.logs.length-1],o=Math.max(...e.logs.slice(-30));this.lastMin[t.name]=Math.min(this.lastMin[t.name],a),this.lastMax[t.name]=Math.max(this.lastMax[t.name],a),this.lastValue[t.name]=this.lastValue[t.name]*.7+a*.3;const f=Math.max(o,...e.graph.slice(-this.samplesGraph));this.updateCounter++,this.updateCounter%(this.logsPerSecond*2)===0&&(this.lastMax[t.name]=o,this.lastMin[t.name]=a),t.update&&(r>=this.prevCpuTime+1e3/this.logsPerSecond&&t.update(this.lastValue[t.name],a,this.lastMax[t.name],f,n),r>=this.prevGraphTime+1e3/this.graphsPerSecond&&(t.updateGraph(a,f),this.prevGraphTime=r))}updateAverages(){this.addToAverage(this.totalCpuDuration,this.averageCpu),this.addToAverage(this.totalGpuDuration,this.averageGpu),this.info&&this.totalGpuDurationCompute!==void 0&&this.addToAverage(this.totalGpuDurationCompute,this.averageGpuCompute)}addToAverage(t,e){e.logs.push(t),e.logs.length>this.samplesLog&&(e.logs=e.logs.slice(-this.samplesLog)),e.graph.push(t),e.graph.length>this.samplesGraph&&(e.graph=e.graph.slice(-this.samplesGraph))}get domElement(){return this.dom}patchThreeWebGPU(t){const e=t.info.reset,n=this;t.info.reset=function(){n.beginProfiling("cpu-started"),e.call(this)}}patchThreeRenderer(t){const e=t.render,n=this;t.render=function(r,a){n.begin(),e.call(this,r,a),n.end()},this.threeRendererPatched=!0}};Rt.Panel=wt;let Gt=Rt;class Ot{constructor(t){this.bus=t,this.animationFrameId=null,this.initializing=!1,this.lastTextUpdateTime=0,this.textUpdateInterval=1e3,this.pctEl=document.getElementById("loading-percent"),this.stats=new Gt({trackGPU:!1,trackHz:!1,trackCPT:!1,logsPerSecond:4,graphsPerSecond:30,samplesLog:40,samplesGraph:10,precision:2,horizontal:!0,minimal:!1,mode:0}),this.stats.dom.style.position="fixed",this.stats.dom.style.bottom="45px",this.stats.dom.style.right="180px",this.stats.dom.style.top="auto",this.stats.dom.style.left="auto",document.body.appendChild(this.stats.dom),document.getElementById("load-button").addEventListener("click",()=>this.initialize()),this.setupIntroOverlay()}setupIntroOverlay(){const t=document.getElementById("intro-overlay"),e=document.getElementById("start-exploration"),n=document.getElementById("csv-select");e.addEventListener("click",()=>{const r=document.querySelector('input[name="dataset"]:checked').value;n.value=r,t.style.display="none",this.initialize()})}async initialize(){if(this.initializing)return;this.initializing=!0;const e=document.getElementById("csv-select").value,n=document.getElementById("loading");n.style.display="flex";const r=await this.bus.dataLoader.loadCSV(e,a=>{this.pctEl.textContent=`${Math.floor(a)}%`});console.log(`Loaded ${r.length} data points from CSV`),this.bus.data=this.bus.dataLoader.processData(r),this.bus.circleRenderer.batchAddCircles(this.bus.data),await this.bus.textRenderer.loadFont(),this.updateVisibleText(),this.bus.searchManager.isDataInitialized=!1,this.bus.controls.reset(),this.animationFrameId||(this.animationFrameId=requestAnimationFrame(a=>this.draw(a))),n.style.display="none",this.initializing=!1}updateVisibleText(){const t=this.bus.controls.screenToWorld(0,0),e=this.bus.controls.screenToWorld(this.bus.webgl.canvas.width,this.bus.webgl.canvas.height),n={minX:Math.min(t.x,e.x),maxX:Math.max(t.x,e.x),minY:Math.min(t.y,e.y),maxY:Math.max(t.y,e.y)};if((n.maxX-n.minX)*(n.maxY-n.minY)>3e3)return;const a=[],{offsets:o,sizes:f,titles:p,numItems:l}=this.bus.data;for(let y=0;y<l;y++){const S=o[y*2],j=o[y*2+1];S>=n.minX&&S<=n.maxX&&j>=n.minY&&j<=n.maxY&&a.push({text:p[y],x:S,y:j,limit:2*f[y],cx:.51,cy:.5,radius:f[y]})}const E=1e3;let A=a;a.length>E&&(A=a.sort((y,S)=>S.radius-y.radius).slice(0,E)),console.log(`Showing ${A.length} labels out of ${a.length} visible circles`),this.bus.textRenderer.batchAddText(A)}draw(t){this.stats.begin(),this.bus.webgl.clear(),this.bus.webgl.resizeCanvas(),this.bus.controls.transitionActive&&this.bus.controls.updateTransition(t),t-this.lastTextUpdateTime>this.textUpdateInterval&&(this.updateVisibleText(),this.lastTextUpdateTime=t);const e=this.bus.webgl.createProjectionMatrix(this.bus.controls.cameraX,this.bus.controls.cameraY,this.bus.controls.zoomLevel);this.bus.circleRenderer.draw(e,Math.min(this.bus.controls.zoomLevel,70)),this.bus.textRenderer.draw(e),this.animationFrameId=requestAnimationFrame(n=>this.draw(n)),this.stats.end(),this.stats.update()}}class Bt{constructor(){this.data,this.visualization=new Ot(this),this.webgl=new At,this.textRenderer=new kt(this),this.circleRenderer=new Ct(this),this.controls=new Ht(this),this.searchManager=new Ft(this),this.dataLoader=new gt}}try{new Bt}catch(k){console.error(k),alert("Failed to initialize the application. See console for details.")}
